# Backend README

Проект **Backend** представляет собой серверную часть приложения **CheckerPolygon**. Он реализован на ASP.NET Core и обеспечивает API для работы с полигонами.

## Запуск Backend

Для запуска серверной части используйте Docker. Выполните следующую команду в корневом каталоге проекта:

```bash
docker-compose up --build
```

После запуска backend будет доступен по адресу: `http://localhost:50150` или `http://ip:50150`.

## Swagger

После запуска backend, документация Swagger будет доступна по адресу: `http://localhost:50150/swagger` или `http://ip:50150/swagger`. Swagger предоставляет интерфейс для тестирования всех доступных endpoint'ов API, а также предоставляет информацию о каждом endpoint, его параметрах и возвращаемых данных.

### Использование Swagger

Swagger позволяет:
- Просматривать все доступные endpoint'ы API.
- Тестировать каждый endpoint с использованием удобного интерфейса.
- Получать информацию о требуемых параметрах и структуре ответов.
- Генерировать клиентские SDK для взаимодействия с API.

## Структура проекта

- `/Controllers` - контроллеры, содержащие логику обработки HTTP-запросов.
- `/Models` - модели данных, используемые в приложении.
- `/Services` - сервисы, обеспечивающие бизнес-логику.
- `/Repositories` - классы для доступа к данным.

## Подробности про API

### Основные endpoint'ы:

1. **POST /api/Polygon/check-point**
   - **Описание**: Проверяет, находится ли заданная точка внутри полигона.
   - **Параметры**: Принимает объект с координатами точки и вершинами полигона.
   - **Ответ**: Возвращает информацию о том, находится ли точка внутри полигона.

2. **POST /api/Polygon/save**
   - **Описание**: Сохраняет новый полигон.
   - **Параметры**: Принимает массив вершин полигона.
   - **Ответ**: Возвращает ID сохраненного полигона.

3. **GET /api/Polygon/load-all**
   - **Описание**: Загружает все сохраненные полигоны.
   - **Параметры**: Не принимает параметров.
   - **Ответ**: Возвращает список всех сохраненных полигонов.

4. **GET /api/Polygon/load/{id}**
   - **Описание**: Загружает полигон по его ID.
   - **Параметры**: Принимает ID полигона в качестве параметра пути.
   - **Ответ**: Возвращает информацию о полигоне с указанным ID.

## Проблема с файлом `entrypoint.sh`

Если при запуске контейнера Docker возникает ошибка:

```
exec /app/entrypoint.sh: no such file or directory
```

Это может быть связано с неправильными переносами строк в файле `entrypoint.sh`, особенно если вы работаете на Windows, где используются переносы строк типа `CRLF`, а в Linux (и в Docker-контейнерах) ожидаются `LF`.

### Решение:

1. Откройте файл `entrypoint.sh` в текстовом редакторе, который поддерживает выбор формата строк, например, **VS Code** или **Notepad++**.
   
2. В **VS Code**:
   - Откройте файл `entrypoint.sh`.
   - В правом нижнем углу выберите формат **LF** (Unix).
   - Сохраните файл.

3. В **Notepad++**:
   - Откройте файл `entrypoint.sh`.
   - Перейдите в меню **Edit** -> **EOL Conversion** -> выберите **Unix/OSX Format**.
   - Сохраните файл.

4. После этого перезапустите контейнер:

   ```bash
   docker-compose up --build
   ```

Это решение устраняет проблему с ошибкой "no such file or directory", связанной с неправильными переносами строк в файле `entrypoint.sh`.

